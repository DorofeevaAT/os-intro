---
# Front matter
lang: ru-RU
title: "Отчет по лабораторной работе №6"
subtitle: "Анализ файловой системы Linux.
Команды для работы с файлами и каталогами"
author: "Дорофеева Алёна Тимофеевна"
group: "НПИбд-01-20"

# Formatting
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
---

# Цель работы

Приобрести навыки взаимодействия с системой с помощью командной строки.

# Задание

Изучить теоретический материал, последовательно выполнить заданную лабораторную работу. Работа с основными командами в терминале. 


# Выполнение лабораторной работы

Прописываем примеры из лабораторной работы. 

1. **Копирование файлов и каталогов**

1.1 Копирование файла в текущем каталоге. Скопировать файл ~/abc1 в файл april и в файл may (рис.1.1)

<img src="скрины6\рис1.PNG" style="zoom:80%;" />

*Рис. 1.1: Копирование файла в текущем каталоге*

1.2 Копирование нескольких файлов в каталог. Скопировать файлы april и may в каталог monthly (рис. 1.2)

<img src="скрины6\рис2.PNG" style="zoom:80%;" />

*Рис. 1.2: Копирование нескольких файлов в каталог*

1.3 Копирование файлов в произвольном каталоге. Скопировать файл monthly/may в файл с именем june (рис. 1.3)

<img src="скрины6\рис3.PNG" style="zoom:80%;" />



*Рис. 1.3: Копирование файлов в произвольном каталоге*

1.4 Копирование каталогов в текущем каталоге. Скопировать каталог monthly в каталог monthly.00. Тут же: копирование каталогов в произвольном каталоге. Скопировать каталог monthly.00 в каталог /tmp (рис. 1.4)

<img src="скрины6\рис4.PNG" style="zoom:80%;" />

*Рис. 1.4: Копирование каталогов*

2. **Перемещение и переименование файлов и каталогов**

2.1 Переименование файлов в текущем каталоге. Изменить название файла april на july в домашнем каталоге. Тут же: перемещение файлов в другой каталог. Переместить файл july в каталог monthly.00 (рис. 2.1)

<img src="скрины6\рис5.PNG" style="zoom:80%;" />

*Рис. 2.1: Переименование и перемещение файлов*

2.2 Переименование каталогов в текущем каталоге. Переименовать каталог monthly.00 в monthly.01. Тут же: перемещение каталога в другой каталог. Переместить каталог monthly.01в каталог reports (рис. 2.2)

<img src="скрины6\рис6.PNG" style="zoom:80%;" />

*Рис. 2.2: Переименование и перемещение каталога*

2.3 Переименование каталога, не являющегося текущим. Переименовать каталог reports/monthly.01 в reports/monthly (рис. 2.3)

<img src="скрины6\рис7.PNG" style="zoom:80%;" />

*Рис. 2.3: Переименование каталога*

3. **Права доступа**

3.1 Требуется создать файл ~/may с правом выполнения для владельца (рис. 3.1)

<img src="скрины6\рис8.PNG" style="zoom:80%;" />

*Рис. 3.1: Изменение прав доступа*

3.2 Требуется лишить владельца файла ~/may права на выполнение (рис. 3.2)

<img src="скрины6\рис9.PNG" style="zoom:80%;" />

*Рис. 3.2: Лишение владельца прав доступа*

3.3 Требуется создать каталог monthly с запретом на чтение для членов группы и всех остальных пользователей. Ошибка в том, что поставила запятую по невнимательности. Исправлено. (рис. 3.3)

<img src="скрины6\рис10.PNG" style="zoom:80%;" />

*Рис. 3.3: Запрет на чтение*

3.4 Требуется создать файл ~/abc1 с правом записи для членов группы (рис. 3.4)

<img src="скрины6\рис11.PNG" style="zoom:80%;" />

*Рис. 3.4: Право на запись для членов группы*

**Выполняем следующие действия, зафиксировав в отчёте по лабораторной работе используемые при этом команды и результаты их выполнения**

5. "Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его equipment". Файла io.h у меня нет - использую /usr/include/python3.8/ImDid.h (рис. 5)

<img src="скрины6\рис12.PNG" style="zoom:80%;" />

*Рис. 5*: Переименовываем файл

6. В домашнем каталоге создала директорию ~/ski.plases. Переместила файл equipment в каталог ~/ski.plases. Была допущена ошибка в названии файла (к сожалению, все по той же невнимательности), исправлена. (рис. 6.1)

<img src="скрины6\рис13.PNG" style="zoom:80%;" />

*Рис. 6.1: Работа в домашнем каталоге*

Переименовала файл ~/ski.plases/equipment в ~/ski.plases/equiplist. (рис. 6.2)

<img src="скрины6\рис14.PNG" style="zoom:80%;" />

*Рис. 6.2: Переименование файла*

7. Создала в домашнем каталоге файл abc1 и скопировала его в каталог ~/ski.plases, назвала equiplist2. Создала каталог с именем equipment в каталоге ~/ski.plases. Переместила файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment. (рис. 7.1 и 7.2)

<img src="скрины6\рис15.PNG" style="zoom:80%;" />

*Рис. 7.1: Работа с файлами и каталогами в каталоге ~/ski.plases*

<img src="скрины6\рис16.PNG" style="zoom:80%;" />

*Рис. 7.2: Продолжение*

8. Создала и переместила каталог ~/newdir в каталог ~/ski.plases, назвала его plans. (рис. 8)

<img src="скрины6\рис17.PNG" style="zoom:80%;" />

*Рис. 8: Работа с каталогом ~/newdir*

9. Определила опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав нет: 

   * drwxr--r-- ... australia 

   * drwx--x--x ... play

   * -r-xr--r-- ... my_os 

   * -rw-rw-r-- ... feathers 

     Создала нужные файлы. (рис. 9.1 и 9.2)

<img src="скрины6\рис18.1.PNG" style="zoom:80%;" />

*Рис. 9.1: Создание файлов и работа с их права доступа*

<img src="скрины6\рис18.2.PNG" style="zoom:80%;" />

*Рис. 9.2: Продолжение работы*

10. Проделала приведённые ниже упражнения, записывая в отчёт по лабораторной работе используемые при этом команды. Просмотреть содержимое файла /etc/password невозможно, так как его нет, использовала имеющийся passwd (рис. 10)

<img src="скрины6\рис19.PNG" style="zoom:80%;" />

*Рис. 10: Просматриваем заданный файл с помощью команды cat*

11. Скопировала файл ~/feathers в файл ~/file.old. Переместила файл ~/file.old в каталог ~/play (рис. 11)

<img src="скрины6\рис20.PNG" style="zoom:80%;" />

*Рис. 11: Работа с файлом ~/file.old*

12. Скопировала каталог ~/play в каталог ~/fun. Переместила каталог ~/fun в каталог ~/play и назвала его games. (рис. 12)

<img src="скрины6\рис21.PNG" style="zoom:80%;" />

*Рис. 12: Работа с каталогом ~/fun*

13. Лишила владельца файла ~/feathers права на чтение. Файл ~/feathers нельзя просмотреть командой cat и нельзя скопировать. Дам владельцу файла ~/feathers право на чтение (рис. 13)

    Лишила владельца каталога ~/play права на выполнение. Перейти в каталог ~/play невозможно. Верну владельцу каталога ~/play право на выполнение (рис. 13)

<img src="скрины6\рис22.PNG" style="zoom:80%;" />

*Рис. 13: Работа с правами доступа для владельца*

---

14. С помощью команды man просмотрим справки к командам: mount (рис. 14.1) - команда для монтирования в Linux вручную. 

Опции:

- -l - добавить метку диска к точке монтирования;

- -h - вывести справку;
- -V - вывести версию утилиты;

- -a - примонтировать все устройства, описанные в fstab;
- -f - не выполнять никаких действий, а только посмотреть что собирается делать утилита;
- -F - создавать отдельный экземпляр mount для каждого отдельного раздела;
- -n - не записывать данные о монтировании в /etc/mtab;
- -r - монтировать раздел только для чтения;
- -v - подробный режим;
- -w - монтировать для чтения и записи;
- -t - задать файловую систему, которая будет использована
- -o - задать различные параметры монтирования, например, монтировать только для чтения и т.д.

<img src="скрины6\рис23.PNG" style="zoom:80%;" />

*Рис. 14.1: команда mount*

---

fsck - проверка файловой системы Linux и исправление найденных ошибок (рис. 14.2)

Опции: 

- -l - не выполнять другой экземпляр fsck для этого жесткого диска, пока текущий не завершит работу. Для SSD параметр игнорируется;
- -A - проверить все файловые системы из /etc/fstab;
- -V - подробный вывод;
- -R - не проверять корневую файловую систему;
- -T - не показывать информацию об утилите;
- -M - не проверять, если файловая система смонтирована;
- -N - ничего не выполнять, показать, что проверка завершена успешно;
- -p - выполняет проверку и исправление автоматически. Для этой цели можно использовать одну из трех опций: p, a, y;
- -c - найти и занести в черный список все битые блоки на жестком диске. Доступно только для ext3 и ext4;
- -t - задать типы файловых систем, которые нужно проверить.

<img src="скрины6\рис24.PNG" style="zoom:80%;" />

*Рис. 14.2: команда fsck*

---

mkfs - позволяет создать файловую систему Linux (рис. 14.3)

Опции:

- -t - Указывает тип создаваемой файловой системы.
- -с - проверить устройство на наличие битых секторов
- -b - размер блока файловой системы
- -j - использовать журналирование для ext3
- -L - задать метку раздела
- -v - показать подробную информацию о процессе работы
- -V - версия программы

<img src="скрины6\рис25.PNG" style="zoom:80%;" />

*Рис. 14.3: команда mkfs*

---

kill - команда для прерывания процесса (рис. 14.4)

Опции:

- -l - Выдать все значения сигналов, поддерживаемые в данной реализации, если операнды не указаны.
- -s - задает сигнал, который надо послать, используя одно из символьных имен, заданных в заголовочном файле `<signal.h>.`

<img src="скрины6\рис26.PNG" style="zoom:80%;" />

*Рис. 14.4: команда kill*



# Вывод 

Я приобрела навыки взаимодействия с системой с помощью командной строки, освоила команды touch, cat, less, head, tail, cp, mv, mvdir, chmod, fsck, kill и клавиши управления процессами.

### **Библиографический список:**

[1]: [Инструкции к лабораторной работе](файл 003-lab_files.pdf)

[2]: [Основы работы в командной строке Linux](https://pingvinus.ru/note/command-line-fundamentals)